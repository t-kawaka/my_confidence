<%= form_with(model: @task, local: true) do |form| %>
<% if @task.errors.any? %>
  <div id="error_explanation">
    <h3><%= @task.errors.count %>件のエラーがあります。</h3>
    <ul>
    <% @task.errors.full_messages.each do |msg| %>
      <li><%= msg %></li>
    <% end %>
    </ul>
  </div>
<% end %>

  <div class="form-group">
    <%= form.label :title %>(＊必ずしも入力しなくても大丈夫です。)<br>
    <% Tag.all.each do |tag| %>
       <%= form.check_box :tag_ids, { multiple: true, checked: tag[:checked], disabled: tag[:disabled], include_hidden: false }, tag[:id] %>

       <label class='badge badge-primary'><%= tag.name %></label>
    <% end %>
  </div>

  <div class="form-group">
    <%= form.label :start_time %>（＊明日以降の日にちの入力はできません。）
    <%= form.date_field :start_time, class:"form-control col-3" %>
  </div>
  <div class="form-group">
    <%= form.label :title %>
    <%= form.text_field :title, class: "form-control" %>
  </div>
  <div class="form-group">
    <%= form.label :description %>
    <%= form.text_area :description, class:"form-control", rows:5 %>
  </div>
  <div class="form-group">
    <%= form.label :notice %>
    <%= form.text_area :notice, class:"form-control", rows:2 %>
  </div>
  <div class="form-group">
    <%= form.label :require_time %>
    <%= form.number_field :require_time, class:"form-control col-3" %>
  </div>
  <div class="form-group">
    <%= form.label :progress %>
    <%= form.select :progress, [["開始","開始"],["途中","途中"],["完了","完了"]] %>
  </div>
  <div class="space">
    <div class="submit">
      <%= form.submit "保存", class:"btn btn-primary" %>
      <%= link_to "戻る", root_path, class:"btn btn-info ml-2" %>
    </div>
  </div>
<% end %>
